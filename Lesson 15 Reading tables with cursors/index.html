<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Vojta Barták">
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Lesson 15 Cursors - Python for ArcGIS</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Lesson 15 Cursors";
    var mkdocs_page_input_path = "Lesson 15 Reading tables with cursors.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Python for ArcGIS</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Model Builder</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Lesson%2001%20Model%20Builder%20I/">Lesson 1: Model editting</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Lesson%2002%20Model%20Builder%20II/">Lesson 2: User environment</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Python</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Lesson%2003%20Writing%20and%20running%20Python%20programs/">Lesson 3: Starting python</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="../Lesson 04 Variables and data types">Lesson 4: Variables and data types</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Lesson%2005%20Conditions%20and%20Loops/">Lesson 5: Loops and conditions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Lesson%2006%20Interactive%20inputs%20and%20random%20numbers/">Lesson 6: Inputs and random numbers</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Lesson%2007%20Directories%20and%20text%20files/">Lesson 7: Directories and text files</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Lesson%2008%20Functions%20and%20modules/">Lesson 8: Functions and modules</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="../Lekce 9 Třídy a objekty.md">Lekce 9: Třídy a objekty</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">ArcPy</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../Lesson%2010%20Running%20ArcPy%20tools/">Lesson 10: Running ArcPy tools</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="../Lekce 11 Procházení geodat a jejich vlastností pomocí balíčku ArcPy.md">Lekce 11: Procházení a prohlížení geodat</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Lesson%2012%20Tool%20user%20interfaces/">Lesson 12: Tool user interfaces</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../Lesson%2013%20Attribute%20Operations/">Lesson 13: Attribute Operations</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Lesson 15 Cursors</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#read-rows-using-the-search-cursor">Read rows using the Search cursor</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="" href="../Lekce 18 Rastrové analýzy.md">Lekce 18: Rastrové analýzy</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../about_me/">About me...</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../tests_upload/">Tests and homeworks</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Python for ArcGIS</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>ArcPy &raquo;</li>
        
      
    
    <li>Lesson 15 Cursors</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/vojta-bartak/Python-for-ArcGIS-CZU-EN/edit/master/docs/Lesson 15 Reading tables with cursors.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="lesson-15-reading-tables-with-cursors">Lesson 15: Reading tables with cursors</h1>
<p>In this lesson, you will learn how to browse attribute tables (or other tables in <code>.dbf</code> format) line by line and read and write values from/to individual fields (columns). We will test individual procedures on <a href="https://owncloud.cesnet.cz/index.php/s/87mECJH9RhNIdVz">data</a> of regions (polygons) and large cities (points) of the Czech Republic.</p>
<blockquote>
<p><strong>Task 1.</strong> Start a new ArcGIS project and view the data, including attribute tables.</p>
</blockquote>
<p>The table is browsed using the so-called <em>cursor</em>, which is an object similar to what we create when opening text files with the <code>open</code> function: it mediates the connection with the given file (table), so it is locked for editing by any other applications as long as we browse it. For this reason, it is necessary to delete the created cursor after finishing work with the table (with the command <code>del</code>), similarly to closing a text file (where we use the <code>close</code> method.</p>
<p>Cursors in <code>arcpy</code> are of three types:</p>
<ul>
<li><strong>Search Cursor</strong> - only for reading values from the table,</li>
<li><strong>Update Cursor</strong> - for reading and writing to existing table rows,</li>
<li><strong>Insert Cursor</strong> - for inserting new rows into the table and deleting existing rows.</li>
</ul>
<h2 id="read-rows-using-the-search-cursor">Read rows using the <em>Search</em> cursor</h2>
<p>The syntax for using a cursor is as follows:</p>
<pre><code class="language-python">tab = arcpy.da.SearchCursor(in_table, field_names, {where_clause}, ...)
</code></pre>
<p>In the given code we store the cursor in the variable <code>tab</code>. The <code>arcpy.da.</code> section refers to the fact that the cursors in the <code>arcpy</code> package are implemented in a separate <code>da</code> module (short for "Data Access"). The cursor object (ie object of the class <em>SearchCursor</em>) is created by the class constructor of the same name (<code>SearchCursor</code> function in the example). The most important parameters of the function are:</p>
<ul>
<li><strong>in_table</strong> - table to be opened (the whole path as a string, or a relative path with respect to the working directory) - it can be a shapefile, feature class, feature layer, <code>.dbf</code> table, or a table view.</li>
<li><strong>field_names</strong> - list of fields (columns) we want to open (Python list of strings),</li>
<li><strong>where_clause</strong> - SQL query (optional) with which we can limit the opened table only to selected rows.</li>
</ul>
<p>The cursor contains other parameters (shown in the example by three dots), but we will leave them aside here.</p>
<p>The cursor can be browsed directly by a <code>for</code> cycle. The iteration variable goes through the individual lines and always takes a value of a tuple of length <em>n</em>, ie the same length as the the number of open fields. Let's look at an example of opening the "CATEGORY" and "NAME" attributes of the dataset of cities:</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../about_me/" class="btn btn-neutral float-right" title="About me...">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Lesson%2013%20Attribute%20Operations/" class="btn btn-neutral" title="Lesson 13: Attribute Operations"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/vojta-bartak/Python-for-ArcGIS-CZU-EN/" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../Lesson%2013%20Attribute%20Operations/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../about_me/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
